<!-- --allow-file-access-from-files -->
<!-- app.gameManager.runNextGame() -->






<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

<body>


<link rel="stylesheet" type="text/css" href="css/style.css">

<canvas id="canvas" style='width:100%; height:100%;position:absolute; left : 0; z-index:100;'></canvas>

<script src="js/2d/test.js" ></script>


<script src="libs/three.js"></script> 

<script src="libs/createjs-2015.11.26.min.js"></script>

<script src='libs/jquery.js'></script>



<script>


var myWindow = window.open ( "controls.html" , "controls" );

var app = {}
var api = {}
var the = {}
var ub  = {}

var app = {}

app.ui = {};


app.dummy = {}



</script>



<script src='js/units.js' > </script> 

             
<script src='js/textures.js'></script>
             
<script src='js/materials.js'></script>

<script src='js/test.js'></script>

<script src='js/gameManager.js'></script>

<script src='js/scene.js'></script>

<script src='js/game.js'></script>
<script src='js/players.js'></script>

<script src='js/timeline.js'></script>
<script src='js/frameBuilder.js'></script>


<script src='js/radar.js'></script>
<script src='js/spaceBoard.js'></script>

<script src='js/status.js'></script>

<script src='js/camera.js'></script>
<script>

var game = {};


</script>


<script src='logs/test/log2.js'></script> 
<script src='logs/test/Level 2 - Map 1 - Round 0.log'></script>

<script>




app.units.init();

app.ui.scene.init();
app.spaceScene.init();




//tests for simulation. this should be removed 
app.test.animateCamera();


requestAnimationFrame = function ( callback ) {
  var currTime = Date.now(), timeToCall = Math.max( 0, 25 - ( currTime - lastTime ) );
  var id = self.setTimeout( function() { callback( currTime + timeToCall ); }, timeToCall );
  lastTime = currTime + timeToCall;
  return id;
};


lastTime = Date.now();

function animate(time) {

	
	app.timeline.updateTransition();	
		
	app.spaceScene.render();

	app.ui.scene.update();
	
	requestAnimationFrame( animate );
    return;
 
}

animate();


app.gameManager.parseGames();
app.gameManager.runNextGame()


app.timeline.play();
</script>
