<!-- --allow-file-access-from-files -->
<!-- app.gameManager.runNextGame() -->






<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

<body>


<style>

body,window { padding : 0; margin : 0; overflow : hidden; }


body { background : #222; }


.logs_container { 

}

.logs { 
	font-variant : small-caps;
	font-size 	 : 20px;
	color : #ddd;
    z-index : 20000;
    
}

.logs_container:hover {
    overflow : auto !important;
}

.logs .digit {
	font-size : 16px;
}

.log_step { 
	margin-top : 20px;
	font-weight : bolder;
	border-bottom : 1px solid #777;
	animation : none !important;
}


.info { 
    z-index : 10000;
    background : rgba( 40, 40, 40, 0.97 );
}

.info #title {
	font-size : 90px;
	color     : #444;
}

.logs > div {
	
	animation : reveal 2s;
}

.log_player {
	font-weight : bolder;
}

@keyframes reveal {
  0%   { color : #222; }
  100% { color: #ddd; }
}
</style>


<link rel="stylesheet" type="text/css" href="css/style.css">

<canvas id="canvas" style='width:100%; height:100%;position:absolute; left : 0; z-index:100;'></canvas>

<script src="js/2d/test.js" ></script>


<script src="libs/three.js"></script> 

<script src="libs/createjs-2015.11.26.min.js"></script>

<script src='libs/jquery.js'></script>



<script>
var app = {}
var api = {}
var the = {}
var ub  = {}

var napp = {}

app.ui = {};


app.dummy = {}



</script>



<script src='js/units.js' > </script> 

             
<script src='js/textures.js'></script>
             
<script src='js/materials.js'></script>

<script src='js/test.js'></script>

<script src='js/gameManager.js'></script>

<script src='js/ui/scene.js'></script>

<script src='js/napp/game.js'></script>
<script src='js/napp/timeline.js'></script>
<script src='js/napp/frameBuilder.js'></script>


<script src='js/napp/radar.js'></script>
<script src='js/napp/spaceBoard.js'></script>

<script src='js/napp/status.js'></script>

<script src='js/camera.js'></script>
<script>

var game = {};


</script>


<script src='logs/test/log2.js'></script> 
<script src='logs/test/Level 2 - Map 1 - Round 0.log'></script>

<script>




app.units.init();

app.ui.scene.init();
napp.spaceScene.init();




//tests for simulation. this should be removed 
app.test.init();
app.test.auto();
app.test.animateCamera();


requestAnimationFrame = function ( callback ) {
  var currTime = Date.now(), timeToCall = Math.max( 0, 25 - ( currTime - lastTime ) );
  var id = self.setTimeout( function() { callback( currTime + timeToCall ); }, timeToCall );
  lastTime = currTime + timeToCall;
  return id;
};


lastTime = Date.now();

function animate(time) {

	
	napp.timeline.updateTransition();
	
    //if ( app.timeline.paused ) return;
    
		
	napp.spaceScene.render();

	app.ui.scene.update();
	
	requestAnimationFrame( animate );
    return;
 
}

animate();


/*
for (var i=0 ; i<5 ; i++){
	app.api.addPlayer();
}

*/

//app.game.runGame( game["Level 2 - Map 1 - Round 0"], "Level 2 - Map 1 - Round 0" );
//debugger;
//animate();

app.gameManager.parseGames();
app.gameManager.runNextGame()


napp.timeline.play();
</script>
